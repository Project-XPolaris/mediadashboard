"use strict";(self.webpackChunkmediadashboard=self.webpackChunkmediadashboard||[]).push([[564],{24315:function(Y,x,r){var T=r(6614),u=r(56453),j=r(87906),y=r(47746),U=r(92094),g=r(25030),F=r(16760),B=r(59496),O=r(90750),o=r(4637),W=["fieldProps","proFieldProps"],A=["fieldProps","proFieldProps"],h="text",K=function(l){var d=l.fieldProps,P=l.proFieldProps,_=(0,j.Z)(l,W);return(0,o.jsx)(O.Z,(0,u.Z)({valueType:h,fieldProps:d,filedConfig:{valueType:h},proFieldProps:P},_))},M=function(l){var d=(0,y.Z)(l.open||!1,{value:l.open,onChange:l.onOpenChange}),P=(0,T.Z)(d,2),_=P[0],D=P[1];return(0,o.jsx)(U.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(n){var E,I=n.getFieldValue(l.name||[]);return(0,o.jsx)(g.Z,(0,u.Z)((0,u.Z)({getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},onOpenChange:function(a){return D(a)},content:(0,o.jsxs)("div",{style:{padding:"4px 0"},children:[(E=l.statusRender)===null||E===void 0?void 0:E.call(l,I),l.strengthText?(0,o.jsx)("div",{style:{marginTop:10},children:(0,o.jsx)("span",{children:l.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},l.popoverProps),{},{open:_,children:l.children}))}})},Z=function(l){var d=l.fieldProps,P=l.proFieldProps,_=(0,j.Z)(l,A),D=(0,B.useState)(!1),f=(0,T.Z)(D,2),n=f[0],E=f[1];return d!=null&&d.statusRender&&_.name?(0,o.jsx)(M,{name:_.name,statusRender:d==null?void 0:d.statusRender,popoverProps:d==null?void 0:d.popoverProps,strengthText:d==null?void 0:d.strengthText,open:n,onOpenChange:E,children:(0,o.jsx)("div",{children:(0,o.jsx)(O.Z,(0,u.Z)({valueType:"password",fieldProps:(0,u.Z)((0,u.Z)({},(0,F.Z)(d,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(v){var a;d==null||(a=d.onBlur)===null||a===void 0||a.call(d,v),E(!1)},onClick:function(v){var a;d==null||(a=d.onClick)===null||a===void 0||a.call(d,v),E(!0)}}),proFieldProps:P,filedConfig:{valueType:h}},_))})}):(0,o.jsx)(O.Z,(0,u.Z)({valueType:"password",fieldProps:d,proFieldProps:P,filedConfig:{valueType:h}},_))},p=K;p.Password=Z,p.displayName="ProFormComponent",x.Z=p},83053:function(Y,x,r){r.r(x);var T=r(90228),u=r.n(T),j=r(87999),y=r.n(j),U=r(48305),g=r.n(U),F=r(24757),B=r(87218),O=r(92705),o=r(24315),W=r(87271),A=r(91778),h=r(436),K=r(85408),M=r(15238),Z=r(34298),p=r(31220),c=r(43591),l=r(78501),d=r(36487),P=r(72741),_=r(18603),D=r(59496),f=r(89381),n=r(4637),E=function(){var v,a,L,b,S,N=(0,F.useSearchParams)(),V=g()(N,1),G=V[0],C=(0,F.useModel)("YouVideo.videoDetail"),H=(0,D.useState)(!1),X=g()(H,2),J=X[0],z=X[1];(0,D.useEffect)(function(){var i=Number(G.get("id"));i&&C.loadData({id:i})},[]);var e=C.video,Q=[{title:"ID",dataIndex:"id",width:80},{title:"Name",dataIndex:"name"},{title:"Duration",dataIndex:"duration",width:100},{title:"Size",dataIndex:"size",width:120}];return(0,n.jsxs)(B._z,{title:e==null?void 0:e.name,extra:(0,n.jsx)(K.ZP,{type:"primary",onClick:function(){return z(!0)},children:"\u7F16\u8F91"}),children:[(0,n.jsxs)(O.Y,{title:"\u7F16\u8F91\u89C6\u9891",open:J,modalProps:{destroyOnClose:!0,onCancel:function(){return z(!1)}},initialValues:{name:e==null?void 0:e.name,episode:e==null?void 0:e.ep,order:e==null?void 0:e.order,release:e==null?void 0:e.release},onFinish:function(){var i=y()(u()().mark(function R(t){var m,$;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e){s.next=2;break}return s.abrupt("return",!1);case 2:if(m={},t.name!==void 0&&t.name!==e.name&&(m.name=t.name),t.episode!==void 0&&t.episode!==e.ep&&(m.episode=t.episode),t.order!==void 0&&t.order!==e.order&&(m.order=t.order),t.release!==void 0&&t.release!==e.release&&(m.release=t.release),Object.keys(m).length!==0){s.next=10;break}return M.ZP.info("\u6CA1\u6709\u4FEE\u6539\u9879"),s.abrupt("return",!0);case 10:return s.next=12,(0,f.HH)(e.id,m);case 12:if($=s.sent,$.success){s.next=16;break}return M.ZP.error($.err),s.abrupt("return",!1);case 16:return M.ZP.success("\u5DF2\u4FDD\u5B58"),s.next=19,C.loadData({id:e.id});case 19:return z(!1),s.abrupt("return",!0);case 21:case"end":return s.stop()}},R)}));return function(R){return i.apply(this,arguments)}}(),children:[(0,n.jsx)(o.Z,{name:"name",label:"\u540D\u79F0",placeholder:"\u8F93\u5165\u540D\u79F0"}),(0,n.jsx)(o.Z,{name:"episode",label:"\u96C6\u6570",placeholder:"\u8F93\u5165\u96C6\u6570\uFF08\u53EF\u9009\uFF09"}),(0,n.jsx)(W.Z,{name:"order",label:"\u6392\u5E8F",placeholder:"\u8F93\u5165\u6392\u5E8F\uFF08\u53EF\u9009\uFF09"}),(0,n.jsx)(o.Z,{name:"release",label:"\u53D1\u5E03\u65E5\u671F",placeholder:"YYYY-MM-DD\uFF08\u53EF\u9009\uFF09"}),(0,n.jsx)(A.Z,{name:"desc",label:"\u5907\u6CE8",placeholder:"\u4EC5\u672C\u5730\u5907\u6CE8\uFF0C\u4E0D\u63D0\u4EA4\uFF08\u6682\u4E0D\u4FDD\u5B58\uFF09",disabled:!0})]}),(0,n.jsxs)(Z.Z,{gutter:8,children:[(0,n.jsx)(p.Z,{span:8,children:(0,n.jsx)(c.Z,{title:"\u5C01\u9762",size:"small",children:(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:C.getCover()?(0,n.jsx)("img",{src:C.getCover(),style:{maxWidth:"100%"}}):(0,n.jsx)(l.Z.Text,{type:"secondary",children:"\u6682\u65E0\u5C01\u9762"})})})}),(0,n.jsx)(p.Z,{span:16,children:(0,n.jsxs)(c.Z,{title:"\u57FA\u7840\u4FE1\u606F",size:"small",children:[(0,n.jsxs)(d.Z,{column:2,children:[(0,n.jsx)(d.Z.Item,{label:"ID",children:e==null?void 0:e.id}),(0,n.jsx)(d.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.name}),(0,n.jsx)(d.Z.Item,{label:"\u96C6\u6570",children:(v=e==null?void 0:e.ep)!==null&&v!==void 0?v:"-"}),(0,n.jsx)(d.Z.Item,{label:"\u6392\u5E8F",children:(a=e==null?void 0:e.order)!==null&&a!==void 0?a:"-"}),(0,n.jsx)(d.Z.Item,{label:"\u53D1\u5E03\u65E5\u671F",children:(L=e==null?void 0:e.release)!==null&&L!==void 0?L:"-"})]}),(0,n.jsx)(P.Z,{}),(0,n.jsx)(l.Z.Paragraph,{children:(0,n.jsx)(l.Z.Text,{type:"secondary",children:"\u4FE1\u606F"})}),(0,n.jsxs)(_.Z,{direction:"vertical",style:{width:"100%"},children:[e==null||(b=e.infos)===null||b===void 0?void 0:b.map(function(i){return(0,n.jsxs)(_.Z,{children:[(0,n.jsx)(l.Z.Text,{strong:!0,children:i.key}),(0,n.jsx)(l.Z.Text,{type:"secondary",children:i.value})]},i.id)}),!(e!=null&&(S=e.infos)!==null&&S!==void 0&&S.length)&&(0,n.jsx)(l.Z.Text,{type:"secondary",children:"\u65E0"})]})]})})]}),(0,n.jsx)(Z.Z,{style:{marginTop:8},children:(0,n.jsx)(p.Z,{span:24,children:(0,n.jsx)(c.Z,{title:"\u6587\u4EF6\u5217\u8868",size:"small",children:(0,n.jsx)(h.Z,{search:!1,toolBarRender:!1,dataSource:(e==null?void 0:e.files)||[],rowKey:function(R){return R.id},columns:Q,pagination:!1})})})})]})};x.default=E}}]);
