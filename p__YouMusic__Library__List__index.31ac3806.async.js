"use strict";(self.webpackChunkmediadashboard=self.webpackChunkmediadashboard||[]).push([[59],{62297:function(z,v,e){var _=e(56453),s=e(59496),f=e(13743),h=e(7846),g=function(P,j){return s.createElement(h.Z,(0,_.Z)((0,_.Z)({},P),{},{ref:j,icon:f.Z}))},u=s.forwardRef(g);v.Z=u},1842:function(z,v,e){var _=e(90228),s=e.n(_),f=e(87999),h=e.n(f),g=e(48305),u=e.n(g),c=e(59496),P=function(T){var D=T.onReadDir,Z=(0,c.useState)("/"),x=u()(Z,2),L=x[0],y=x[1],R=(0,c.useState)(void 0),I=u()(R,2),t=I[0],A=I[1],C=(0,c.useState)(!1),O=u()(C,2),S=O[0],M=O[1],n=function(){var m=h()(s()().mark(function r(i){var l;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return M(!0),a.next=3,D(i);case 3:l=a.sent,l&&(M(!1),A(l));case 5:case"end":return a.stop()}},r)}));return function(i){return m.apply(this,arguments)}}(),U=function(){if(t){var r=t.backPath;n(r),y(r)}};(0,c.useEffect)(function(){n(L)},[]);var B=function(r){n(r),y(r)},K=function(){var r;return(r=t==null?void 0:t.files)!==null&&r!==void 0?r:[]},N=function(){var r;return(r=t==null?void 0:t.files.filter(function(i){return i.type==="Directory"}))!==null&&r!==void 0?r:[]};return{currentPath:L,goBack:U,getItems:K,setCurrentPath:y,navigate:B,getDirectoryList:N,isLoading:S}};v.Z=P},91153:function(z,v,e){e.r(v),e.d(v,{default:function(){return N}});var _=e(90228),s=e.n(_),f=e(87999),h=e.n(f),g=e(48305),u=e.n(g),c=e(87218),P=e(24757),j=e(38593),T=e(72741),D=e(85408),Z=e(43591),x=e(76521),L=e(59496),y=e(15238),R=e(43448),I=e(50468),t=e(74839),A=e(73242),C={selectorHeader:"selectorHeader___esWd8",pathInput:"pathInput___Lm4K4",itemList:"itemList___IS49S",nameInput:"nameInput____pdOM"},O=e(62297),S=e(1842),M=e(59333),n=e(4637),U=function(r){var i=r.onOk,l=r.onCancel,p=r.visible,a=(0,S.Z)({onReadDir:M.oc}),W=function(){if(a.currentPath===""){y.ZP.error("Path is required");return}i(a.currentPath)};return(0,n.jsxs)(R.Z,{title:"New Library",visible:p,onCancel:l,onOk:W,children:[(0,n.jsxs)("div",{className:C.selectorHeader,children:[(0,n.jsx)(D.ZP,{onClick:a.goBack,children:"Back"}),(0,n.jsx)(I.Z,{className:C.pathInput,value:a.currentPath,onChange:function(o){return a.setCurrentPath(o.target.value)}}),(0,n.jsx)(D.ZP,{onClick:function(){return a.navigate(a.currentPath)},children:"GO"})]}),(0,n.jsx)("div",{className:C.itemList,children:(0,n.jsx)(t.Z,{dataSource:a.getDirectoryList(),loading:a.isLoading,renderItem:function(o,E){return(0,n.jsx)(t.Z.Item,{children:(0,n.jsx)(t.Z.Item.Meta,{avatar:(0,n.jsx)(A.Z,{icon:(0,n.jsx)(O.Z,{})}),title:(0,n.jsx)("a",{href:"#",onClick:function(){return a.navigate(o.path)},children:o.name}),description:"Directory"})},E)}})})]})},B=U,K=function(){var r=(0,P.useModel)("YouMusic.libraryList"),i=(0,L.useState)(!1),l=u()(i,2),p=l[0],a=l[1],W=[{title:"id",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Path",dataIndex:"path",key:"path"},{title:"Actions",dataIndex:"id",key:"id",render:function(o){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{title:"Are you sure to scan?",onConfirm:function(){r.scan(o)},okText:"Yes",cancelText:"No",children:(0,n.jsx)("a",{children:"Scan"})}),(0,n.jsx)(T.Z,{type:"vertical"}),(0,n.jsx)(j.Z,{title:"Are you sure to delete?",onConfirm:function(){return r.remove(o)},okText:"Yes",cancelText:"No",children:(0,n.jsx)("a",{children:"Delete"})})]})}}];return(0,n.jsxs)(c._z,{extra:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(D.ZP,{onClick:function(){return a(!0)},children:"New library"})}),children:[(0,n.jsx)(B,{onOk:function(){var d=h()(s()().mark(function o(E){return s()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,r.create(E);case 2:a(!1);case 3:case"end":return b.stop()}},o)}));return function(o){return d.apply(this,arguments)}}(),onCancel:function(){return a(!1)},visible:p}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(x.Z,{dataSource:r.libraryList,columns:W})})]})},N=K}}]);
