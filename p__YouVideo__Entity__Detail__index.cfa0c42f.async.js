"use strict";(self.webpackChunkmediadashboard=self.webpackChunkmediadashboard||[]).push([[844],{24315:function(V,T,r){var g=r(6614),v=r(56453),C=r(87906),R=r(47746),F=r(92094),Z=r(25030),f=r(16760),W=r(59496),O=r(90750),i=r(4637),A=["fieldProps","proFieldProps"],K=["fieldProps","proFieldProps"],E="text",y=function(a){var t=a.fieldProps,m=a.proFieldProps,P=(0,C.Z)(a,A);return(0,i.jsx)(O.Z,(0,v.Z)({valueType:E,fieldProps:t,filedConfig:{valueType:E},proFieldProps:m},P))},U=function(a){var t=(0,R.Z)(a.open||!1,{value:a.open,onChange:a.onOpenChange}),m=(0,g.Z)(t,2),P=m[0],x=m[1];return(0,i.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(n){var c,B=n.getFieldValue(a.name||[]);return(0,i.jsx)(Z.Z,(0,v.Z)((0,v.Z)({getPopupContainer:function(l){return l&&l.parentNode?l.parentNode:l},onOpenChange:function(l){return x(l)},content:(0,i.jsxs)("div",{style:{padding:"4px 0"},children:[(c=a.statusRender)===null||c===void 0?void 0:c.call(a,B),a.strengthText?(0,i.jsx)("div",{style:{marginTop:10},children:(0,i.jsx)("span",{children:a.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},a.popoverProps),{},{open:P,children:a.children}))}})},M=function(a){var t=a.fieldProps,m=a.proFieldProps,P=(0,C.Z)(a,K),x=(0,W.useState)(!1),j=(0,g.Z)(x,2),n=j[0],c=j[1];return t!=null&&t.statusRender&&P.name?(0,i.jsx)(U,{name:P.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:n,onOpenChange:c,children:(0,i.jsx)("div",{children:(0,i.jsx)(O.Z,(0,v.Z)({valueType:"password",fieldProps:(0,v.Z)((0,v.Z)({},(0,f.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(h){var l;t==null||(l=t.onBlur)===null||l===void 0||l.call(t,h),c(!1)},onClick:function(h){var l;t==null||(l=t.onClick)===null||l===void 0||l.call(t,h),c(!0)}}),proFieldProps:m,filedConfig:{valueType:E}},P))})}):(0,i.jsx)(O.Z,(0,v.Z)({valueType:"password",fieldProps:t,proFieldProps:m,filedConfig:{valueType:E}},P))},p=y;p.Password=M,p.displayName="ProFormComponent",T.Z=p},44827:function(V,T,r){r.r(T);var g=r(90228),v=r.n(g),C=r(87999),R=r.n(C),F=r(48305),Z=r.n(F),f=r(24757),W=r(87218),O=r(92705),i=r(24315),A=r(91778),K=r(436),E=r(85408),y=r(15238),U=r(34298),M=r(31220),p=r(43591),d=r(78501),a=r(36487),t=r(72741),m=r(18603),P=r(23153),x=r(59496),j=r(11167),n=r(4637),c=function(){var h,l,L,b,S,$,G=(0,f.useSearchParams)(),H=Z()(G,1),Y=H[0],I=(0,f.useModel)("YouVideo.entityDetail"),J=(0,x.useState)(!1),X=Z()(J,2),Q=X[0],z=X[1];(0,x.useEffect)(function(){var s=Number(Y.get("id"));s&&I.loadData({id:s})},[]);var e=I.entity,k=[{title:"ID",dataIndex:"id",width:80},{title:"Name",dataIndex:"name",render:function(D,o){return(0,n.jsx)("a",{onClick:function(){return f.history.push("/youvideo/video/detail?id=".concat(o.id))},children:o.name})}},{title:"Type",dataIndex:"type",width:100},{title:"Files",dataIndex:"files",width:120,render:function(D,o){var u;return((u=o.files)===null||u===void 0?void 0:u.length)||0}}];return(0,n.jsxs)(W._z,{title:I.getEntityName(),extra:(0,n.jsx)(E.ZP,{type:"primary",onClick:function(){return z(!0)},children:"\u7F16\u8F91"}),children:[(0,n.jsxs)(O.Y,{title:"\u7F16\u8F91\u5B9E\u4F53",open:Q,modalProps:{destroyOnClose:!0,onCancel:function(){return z(!1)}},initialValues:{name:e==null?void 0:e.name,summary:e==null?void 0:e.summary,coverUrl:void 0,template:e==null?void 0:e.template},onFinish:function(){var s=R()(v()().mark(function D(o){var u,N;return v()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(e){_.next=2;break}return _.abrupt("return",!1);case 2:if(u={},o.name!==void 0&&o.name!==e.name&&(u.name=o.name),o.summary!==void 0&&o.summary!==e.summary&&(u.summary=o.summary),o.coverUrl&&(u.coverUrl=o.coverUrl),o.template!==void 0&&o.template!==e.template&&(u.template=o.template),Object.keys(u).length!==0){_.next=10;break}return y.ZP.info("\u6CA1\u6709\u4FEE\u6539\u9879"),_.abrupt("return",!0);case 10:return _.next=12,(0,j.i8)(e.id,u);case 12:if(N=_.sent,N.success){_.next=16;break}return y.ZP.error(N.err),_.abrupt("return",!1);case 16:return y.ZP.success("\u5DF2\u4FDD\u5B58"),_.next=19,I.loadData({id:e.id});case 19:return z(!1),_.abrupt("return",!0);case 21:case"end":return _.stop()}},D)}));return function(D){return s.apply(this,arguments)}}(),children:[(0,n.jsx)(i.Z,{name:"name",label:"\u540D\u79F0",placeholder:"\u8F93\u5165\u540D\u79F0"}),(0,n.jsx)(A.Z,{name:"summary",label:"\u7B80\u4ECB",placeholder:"\u8F93\u5165\u7B80\u4ECB"}),(0,n.jsx)(i.Z,{name:"coverUrl",label:"\u5C01\u9762URL",placeholder:"\u8F93\u5165\u56FE\u7247 URL\uFF08\u53EF\u9009\uFF09"}),(0,n.jsx)(i.Z,{name:"template",label:"\u6A21\u677F",placeholder:"\u8F93\u5165\u6A21\u677F\uFF08\u53EF\u9009\uFF09"})]}),(0,n.jsxs)(U.Z,{gutter:8,children:[(0,n.jsx)(M.Z,{span:6,children:(0,n.jsxs)(p.Z,{title:"\u5C01\u9762",size:"small",children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:e!=null&&e.cover?(0,n.jsx)("img",{src:e.cover,style:{maxWidth:"100%"}}):(0,n.jsx)(d.Z.Text,{type:"secondary",children:"\u6682\u65E0\u5C01\u9762"})}),(e==null?void 0:e.coverWidth)&&(e==null?void 0:e.coverHeight)&&(0,n.jsx)("div",{style:{marginTop:8},children:(0,n.jsxs)(d.Z.Text,{type:"secondary",children:[e.coverWidth," x ",e.coverHeight]})})]})}),(0,n.jsx)(M.Z,{span:18,children:(0,n.jsxs)(p.Z,{title:"\u57FA\u7840\u4FE1\u606F",size:"small",children:[(0,n.jsxs)(a.Z,{column:2,children:[(0,n.jsx)(a.Z.Item,{label:"ID",children:e==null?void 0:e.id}),(0,n.jsx)(a.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.name}),(0,n.jsx)(a.Z.Item,{label:"\u6A21\u677F",children:(h=e==null?void 0:e.template)!==null&&h!==void 0?h:"-"}),(0,n.jsx)(a.Z.Item,{label:"\u53D1\u5E03",children:(l=e==null?void 0:e.release)!==null&&l!==void 0?l:"-"})]}),(0,n.jsx)(t.Z,{}),(0,n.jsx)(d.Z.Paragraph,{children:(0,n.jsx)(d.Z.Text,{type:"secondary",children:"\u7B80\u4ECB"})}),(0,n.jsx)(d.Z.Paragraph,{children:(e==null?void 0:e.summary)||"-"}),(0,n.jsx)(t.Z,{}),(0,n.jsx)(d.Z.Paragraph,{children:(0,n.jsx)(d.Z.Text,{type:"secondary",children:"\u6807\u7B7E"})}),(0,n.jsxs)(m.Z,{wrap:!0,children:[e==null||(L=e.tags)===null||L===void 0?void 0:L.map(function(s){return(0,n.jsxs)(P.Z,{children:[s.name,":",s.value]},"".concat(s.name,"-").concat(s.value))}),!(e!=null&&(b=e.tags)!==null&&b!==void 0&&b.length)&&(0,n.jsx)(d.Z.Text,{type:"secondary",children:"\u65E0"})]}),(0,n.jsx)(t.Z,{}),(0,n.jsx)(d.Z.Paragraph,{children:(0,n.jsx)(d.Z.Text,{type:"secondary",children:"\u4FE1\u606F"})}),(0,n.jsxs)(m.Z,{direction:"vertical",style:{width:"100%"},children:[e==null||(S=e.infos)===null||S===void 0?void 0:S.map(function(s){return(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(d.Z.Text,{strong:!0,children:s.key}),(0,n.jsx)(d.Z.Text,{type:"secondary",children:s.value})]},s.id)}),!(e!=null&&($=e.infos)!==null&&$!==void 0&&$.length)&&(0,n.jsx)(d.Z.Text,{type:"secondary",children:"\u65E0"})]})]})})]}),(0,n.jsx)(U.Z,{style:{marginTop:8},children:(0,n.jsx)(M.Z,{span:24,children:(0,n.jsx)(p.Z,{title:"\u89C6\u9891\u5217\u8868",size:"small",children:(0,n.jsx)(K.Z,{search:!1,toolBarRender:!1,dataSource:(e==null?void 0:e.videos)||[],rowKey:function(D){return D.id},columns:k,pagination:!1})})})})]})};T.default=c}}]);
