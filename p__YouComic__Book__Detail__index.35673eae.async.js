"use strict";(self.webpackChunkmediadashboard=self.webpackChunkmediadashboard||[]).push([[957],{81263:function(j,u,a){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=n(a(60508));function n(r){return r&&r.__esModule?r:{default:r}}var i=f;u.default=i,j.exports=i},532:function(j,u,a){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var f=n(a(63965));function n(r){return r&&r.__esModule?r:{default:r}}var i=f;u.default=i,j.exports=i},88991:function(j,u,a){a.d(u,{Z:function(){return b}});var f=a(26068),n=a.n(f),i=a(67825),r=a.n(i),d=a(4637),D=["url","className","alt"],_=a(36812);function b(e){var C,v=e.url,p=e.className,x=e.alt,P=r()(e,D);if(!v)return(0,d.jsx)("div",{className:p});var k=(C=localStorage.getItem("token"))!==null&&C!==void 0?C:"",B=_(v).addQuery("a",k).readable();return(0,d.jsx)("img",n()({src:"/api/comic"+B,className:p,alt:x},P))}},25221:function(j,u,a){a.r(u),a.d(u,{default:function(){return $}});var f=a(87218),n=a(59496),i=a(24757),r=a(43591),d=a(36487),D=a(50451),_=a(16483),b=a.n(_),e=a(4637),C=function(o){var t=(0,i.useModel)("YouComic.bookDetail"),l=(0,D.i)(t.bookDetail),m=l.author,c=l.series,s=l.theme,h=l.translator;return(0,e.jsx)("div",{children:t.bookDetail&&(0,e.jsx)(r.Z,{children:(0,e.jsxs)(d.Z,{bordered:!0,children:[(0,e.jsx)(d.Z.Item,{label:"ID",children:t.bookDetail.id}),(0,e.jsx)(d.Z.Item,{label:"\u6807\u9898",children:t.bookDetail.name}),(0,e.jsx)(d.Z.Item,{label:"\u4F5C\u8005",children:m==null?void 0:m.name}),(0,e.jsx)(d.Z.Item,{label:"\u7CFB\u5217",children:c==null?void 0:c.name}),(0,e.jsx)(d.Z.Item,{label:"\u4E3B\u9898",children:s==null?void 0:s.name}),(0,e.jsx)(d.Z.Item,{label:"\u7FFB\u8BD1",children:h==null?void 0:h.name}),(0,e.jsx)(d.Z.Item,{label:"\u8DEF\u5F84",span:3,children:t.bookDetail.dirName}),(0,e.jsx)(d.Z.Item,{label:"\u521B\u5EFA\u65F6\u95F4",children:b()(t.bookDetail.created_at).format("YYYY-MM-DD hh:mm:ss")}),(0,e.jsx)(d.Z.Item,{label:"\u6700\u540E\u4E00\u6B21\u4FEE\u6539",children:b()(t.bookDetail.updated_at).format("YYYY-MM-DD hh:mm:ss")})]})})})},v=C,p=a(37962),x=function(o){var t=(0,i.useModel)("YouComic.bookDetail");return(0,e.jsx)("div",{children:t.bookDetail&&(0,e.jsx)(p.Rs,{rowKey:"id",headerTitle:"Tags",dataSource:t.bookDetail.tags,showActions:"hover",editable:{},metas:{title:{dataIndex:"name"},description:{},subTitle:{dataIndex:"type"},actions:{render:function(m,c,s,h){return[(0,e.jsx)("a",{onClick:function(){h==null||h.startEditable(c.id)},children:"\u7F16\u8F91"},"link")]}}}})})},P=x,k=a(33063),B={pageWrap:"pageWrap___SntS7"},M=a(31220),E=a(34298),y={col:"col___isS70"},F=a(43448),T=a(81263),S=a.n(T),A=a(532),Z=a.n(A),I={pageImage:"pageImage___lTa1q",idField:"idField___URmD7",orderField:"orderField___xC2Bd",card:"card___BCCK7"},L=a(88991),Y=F.Z.confirm;function K(g){var o=g.page,t=g.onDelete,l=g.onSetOrderActionClick,m=function(){var s=function(){t(o)},h=function(){Y({title:"\u5220\u9664\u5F53\u524D\u9875\u9762",content:"\u4F1A\u5220\u9664\u5F53\u524D\u9875\u9762",okType:"danger",onOk:s})};return[(0,e.jsx)(S(),{onClick:h}),(0,e.jsx)(Z(),{onClick:function(){return l(o)}})]};return(0,e.jsxs)(r.Z,{actions:m(),children:[(0,e.jsx)(L.Z,{className:I.pageImage,alt:"page ".concat(o.id),url:o.path}),(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:I.orderField,children:["\u7B2C",o.order,"\u9875"]})})]})}function N(g){var o=g.pages,t=o===void 0?[]:o,l=g.onDelete,m=g.onSetOrderActionClick,c=t==null?void 0:t.map(function(s){return(0,e.jsx)(M.Z,{className:y.col,children:(0,e.jsx)(K,{page:s,onDelete:l,onSetOrderActionClick:m})},s.id)});return(0,e.jsx)(E.Z,{gutter:8,children:c})}var U=function(){var o=(0,i.useModel)("YouComic.bookDetail");return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N,{pages:o.bookPageList,onDelete:function(l){},onSetOrderActionClick:function(){}}),(0,e.jsx)("div",{className:B.pageWrap,children:(0,e.jsx)(k.Z,{defaultCurrent:1,total:o.bookPageTotal,current:o.bookPageCurrent,pageSize:o.bookPagePageSize,onChange:function(l,m){var c,s=(c=o.bookDetail)===null||c===void 0?void 0:c.id;s&&o.pageUpdate(s.toString(),{page:l,pageSize:m})}})})]})},W=U,R=function(){var o,t,l=(0,i.useModel)("YouComic.bookDetail"),m=(0,i.useParams)();(0,n.useEffect)(function(){var s=m.id;s&&l.initData(s)},[]);var c=function(){switch(l.activeKey){case"base":return(0,e.jsx)(v,{});case"page":return(0,e.jsx)(W,{});case"tag":return(0,e.jsx)(P,{});default:return(0,e.jsx)(e.Fragment,{children:"/"})}};return(0,e.jsx)(f._z,{title:(o=l.bookDetail)===null||o===void 0?void 0:o.name,content:(t=l.bookDetail)===null||t===void 0?void 0:t.dirName,tabActiveKey:l.activeKey,onTabChange:function(h){l.setActiveKey(h)},tabList:[{tab:"\u57FA\u672C\u4FE1\u606F",key:"base"},{tab:"\u9875\u9762",key:"page"},{tab:"\u6807\u7B7E",key:"tag"}],extra:[],footer:[],children:c()})},$=R},50451:function(j,u,a){a.d(u,{i:function(){return f}});function f(n){var i,r,d,D,_=n==null||(i=n.tags)===null||i===void 0?void 0:i.find(function(v){return v.type==="series"}),b=n==null||(r=n.tags)===null||r===void 0?void 0:r.find(function(v){return v.type==="artist"}),e=n==null||(d=n.tags)===null||d===void 0?void 0:d.find(function(v){return v.type==="theme"}),C=n==null||(D=n.tags)===null||D===void 0?void 0:D.find(function(v){return v.type==="translator"});return{series:_,author:b,theme:e,translator:C}}}}]);
